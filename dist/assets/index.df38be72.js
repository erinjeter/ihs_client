import{r as e,R as t,L as s,S as o,a as n,B as a,b as r}from"./vendor.ccc7fedb.js";let l="";switch(window.location.hostname){case"localhost":l="http://localhost:4000";break;case"ihs-project-client.herokuapp.com":l="https://ihs-project-server.herokuapp.com"}var i=l;class m extends e.exports.Component{constructor(e){super(e),this.updateHome=async()=>{try{const e=await fetch(`${i}/homes/update/${this.props.home.id}`,{method:"PUT",body:JSON.stringify({homes:{homestreet1:this.state.homestreet1,homestreet2:this.state.homestreet2,homeType:this.state.homeType,yearBuilt:this.state.yearBuilt,photo:this.state.photo,description:this.state.description}}),headers:new Headers({"Content-Type":"application/json",Authorization:this.props.sessionToken})}),t=await e.json();console.log(t),this.props.getHomes(),this.props.showModal()}catch(e){console.log(e)}},this.deleteHomes=()=>{fetch(`${i}/delete/${this.props.home.id}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:this.props.sessionToken}}).then((e=>e.json())).then((e=>{console.log("Home Deleted",e)})),this.props.showModal()},this.state={showModal:!0,homestreet1:this.props.home.homestreet1,homestreet2:this.props.home.homestreet2,homeType:this.props.home.homeType,photo:this.props.home.photo,description:this.props.home.description,yearBuilt:this.props.home.yearBuilt}}render(){return t.createElement(t.Fragment,null,t.createElement("div",{className:"justify-center items-center flex-col overflow-x-hidden overflow-y-auto fixed inset-0 z-50 outline-none focus:outline-none"},t.createElement("div",{className:"relative w-auto my-6 mx-auto max-w-6xl"},t.createElement("div",{className:"border-0 rounded-lg shadow-lg relative flex flex-col w-full bg-white outline-none focus:outline-none"},t.createElement("div",{className:" flex items-start justify-between p-5 border-b border-solid border-blueGray-200 rounded-t"},t.createElement("h3",{className:"text-3xl font-semibold"},"Edit Home")),t.createElement("div",{className:"relative p-6 flex-auto"},t.createElement("label",{htmlFor:"street1"},"Street 1",t.createElement("input",{type:"text",name:"home street line 1",id:"homestreetline1",className:"p-3 m-1 placeholder-blueGray-300 text-blueGray-600 relative bg-white rounded text-sm border-0 shadow outline-none focus:outline-none focus:ring w-full",value:this.state.homestreet1,onChange:e=>this.setState({homestreet1:e.target.value})})),t.createElement("label",{htmlFor:"street2"},"Street 2",t.createElement("input",{type:"text",name:"home street line 2",id:"homestreet2",className:"p-3 m-1 placeholder-blueGray-300 text-blueGray-600 relative bg-white rounded text-sm border-0 shadow outline-none focus:outline-none focus:ring w-full",value:this.state.homestreet2,onChange:e=>this.setState({homestreet2:e.target.value})})),t.createElement("label",{htmlFor:"homeType"},"Home Type",t.createElement("input",{type:"text",name:"home type",id:"homeType",className:"p-3 m-1 placeholder-blueGray-300 text-blueGray-600 relative bg-white rounded text-sm border-0 shadow outline-none focus:outline-none focus:ring w-full",value:this.state.homeType,onChange:e=>this.setState({homeType:e.target.value})})),t.createElement("label",{htmlFor:"yearBuilt"},"Year Built",t.createElement("input",{type:"text",name:"year built",id:"yearBuilt",className:"p-3 m-1 placeholder-blueGray-300 text-blueGray-600 relative bg-white rounded text-sm border-0 shadow outline-none focus:outline-none focus:ring w-full",value:this.state.yearBuilt})),t.createElement("label",{htmlFor:"Description"},"Description",t.createElement("input",{type:"text",name:"description",id:"description",className:"p-3 m-1 placeholder-blueGray-300 text-blueGray-600 relative bg-white rounded text-sm border-0 shadow outline-none focus:outline-none focus:ring w-full",value:this.state.description,onChange:e=>this.setState({description:e.target.value})}))),t.createElement("div",{className:"flex items-center justify-end p-6 border-t border-solid border blue-Gray-200 rounded-b"},t.createElement("button",{className:"text-red-500 text-white active:bg-emerald-600 font-bold uppercase text-sm px-6 py-3 rounded shadow hover:shadow-lg outline-none focus:outline-none mr-1 mb-1 ease-linear transition-all duration-150",type:"button",onClick:()=>{this.props.showModal()}},"Close"),t.createElement("button",{type:"submit",className:"font-bold uppercase text-sm px-6 py-3 rounded shadow hover:shadow-lg outline-none focus:outline-none mr-1 mb-1 ease-linear transition-all duration-150",onClick:e=>{this.updateHome(),this.setState({showModal:!1})}},"Save Updates"),t.createElement("button",{type:"submit",className:"text-white bg-red-500 font-bold uppercase text-sm px-6 py-3 rounded shadow hover:shadow-lg outline-none focus:outline-none mr-1 mb-1 ease-linear transition-all duration-150",onClick:()=>{this.deleteHomes(),this.setState({showModal:!1})}},"Delete Home"))))),t.createElement("div",{className:"opacity-25 fixed inset-0 z-40 bg-black"}))}}class u extends e.exports.Component{constructor(e){super(e),this.updateOn=()=>{this.setState({showModal:!0})},this.updateOff=()=>{this.setState({showModal:!1})},this.state={homestreet1:"",homestreet2:"",homecity:"",homestate:"",homezip:"",homeType:"",photo:"",yearBuilt:"",description:"",showModal:!1}}render(){return t.createElement("div",{className:"overflow-hidden rounded-lg shadow-lg"},t.createElement(t.Fragment,null,t.createElement("img",{src:this.props.home.photo,className:"block h-auto w-full"}),t.createElement("header",{className:"flex-col items-center justify-between space-y-2 leading-tight p-2 md:p-4"},t.createElement("h1",{className:"text-lg"},this.props.home.homestreet1),t.createElement("p",{className:"text-grey-darker text-sm"},this.props.home.homeType),t.createElement("p",{className:"text-grey-darker text-sm"},"Built ",this.props.home.yearBuilt),t.createElement("p",{className:"text-grey-darker text-sm"},this.props.home.description)),t.createElement("button",{className:"object-left-bottom bg-green-500 text-white active:bg-pink-600 font-bold uppercase text-sm px-6 py-3 rounded shadow hover:shadow-lg outline-none focus:outline-none mr-1 mb-1 ease-linear transition-all duration-150 type=button",onClick:e=>{this.updateOn()}},"Edit Home"),this.state.showModal?t.createElement(m,{home:this.props.home,index:this.props.index,sessionToken:this.props.sessionToken,getHomes:this.props.getHomes,showModal:this.updateOff}):null))}}class h extends e.exports.Component{constructor(e){super(e),this.state={home:{}}}render(){return t.createElement("div",{className:"container my-12 mx-auto px-4 md:px-12 flex"},t.createElement("div",{className:"-mx-1 lg:-mx-4"},t.createElement("div",{className:"my-1 px-1 w-full md:w-1/2 lg:my-4 lg:px-4 lg:w-1/3"},this.props.allHomes.map(((e,s)=>t.createElement(u,{home:e,index:s,sessionToken:this.props.sessionToken,getHomes:this.props.getHomes}))))))}}class c extends e.exports.Component{constructor(e){super(e),this.getHomes=()=>{fetch(`${i}/homes`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:this.props.sessionToken}}).then((e=>e.json())).then((e=>{console.log(e),this.setState({allHomes:e})}))},this.state={allHomes:[]}}componentDidMount(){this.getHomes(),console.log(this.props.sessionToken)}render(){return t.createElement("div",null,t.createElement("div",null,t.createElement(h,{allHomes:this.state.allHomes,sessionToken:this.props.sessionToken,getHomes:this.getHomes})))}}class d extends e.exports.Component{constructor(e){super(e),this.getStories=()=>{fetch(`${i}/stories`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:this.props.sessionToken}}).then((e=>e.json())).then((e=>{console.log(e)}))},this.addStory=e=>{e.preventDefault(),fetch(`${i}/stories/create`,{method:"POST",body:JSON.stringify({story:this.state.story}),headers:new Headers({"Content-Type":"application/json",Authorization:this.props.sessionToken})}).then((e=>e.json())).then((e=>{console.log("Story Added",e),this.getStories()}))},this.state={story:""}}render(){return t.createElement(t.Fragment,null,t.createElement("div",null,t.createElement("form",{onSubmit:this.addStory,className:"mb-3"},t.createElement("input",{className:"p-3 m-1 placeholder-blueGray-300 text-blueGray-600 relative bg-white rounded text-sm border-0 shadow outline-none focus:outline-none focus:ring w-full",type:"text",name:"story",required:!0,value:this.state.story,onChange:e=>this.setState({story:e.target.value})}),t.createElement("button",{type:"submit"},"Submit Story"))))}}class p extends e.exports.Component{constructor(e){super(e),this.updateStory=async()=>{try{const e=await fetch(`${i}/stories/update/${this.props.story.id}`,{method:"PUT",body:JSON.stringify({story:this.state.story}),headers:new Headers({"Content-Type":"application/json",Authorization:this.props.sessionToken})}),t=await e.json();console.log(t),this.props.getStories(),this.props.showModal()}catch(e){console.log(e)}},this.deleteStories=()=>{fetch(`${i}/stories/delete/${this.props.story.id}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:this.props.sessionToken}}).then((e=>e.json())).then((e=>{console.log("Story Deleted",e)})),this.props.showModal()},this.state={showModal:!0,story:this.props.story.story}}render(){return t.createElement(t.Fragment,null,t.createElement("div",{className:"justify-center items-center flex-col overflow-x-hidden overflow-y-auto fixed inset-0 z-50 outline-none focus:outline-none"},t.createElement("div",{className:"relative w-auto my-6 mx-auto max-w-6xl"},t.createElement("div",{className:"border-0 rounded-lg shadow-lg relative flex flex-col w-full bg-white outline-none focus:outline-none"},t.createElement("div",{className:" flex items-start justify-between p-5 border-b border-solid border-blueGray-200 rounded-t"},t.createElement("h3",{className:"text-3xl font-semibold"},"Edit Story")),t.createElement("div",{className:"relative p-6 flex-auto"},t.createElement("label",{htmlFor:"street1"},"Story",t.createElement("input",{type:"text",name:"story",id:"story",className:"p-3 m-1 placeholder-blueGray-300 text-blueGray-600 relative bg-white rounded text-sm border-0 shadow outline-none focus:outline-none focus:ring w-full",value:this.state.story,onChange:e=>this.setState({story:e.target.value})}))),t.createElement("div",{className:"flex items-center justify-end p-6 border-t border-solid border blue-Gray-200 rounded-b"},t.createElement("button",{className:"text-red-500 text-white active:bg-emerald-600 font-bold uppercase text-sm px-6 py-3 rounded shadow hover:shadow-lg outline-none focus:outline-none mr-1 mb-1 ease-linear transition-all duration-150",type:"button",onClick:()=>{this.props.showModal()}},"Close"),t.createElement("button",{type:"submit",className:"font-bold uppercase text-sm px-6 py-3 rounded shadow hover:shadow-lg outline-none focus:outline-none mr-1 mb-1 ease-linear transition-all duration-150",onClick:e=>{this.updateStory(),this.setState({showModal:!1})}},"Save Updates"),t.createElement("button",{type:"submit",className:"text-white bg-red-500 font-bold uppercase text-sm px-6 py-3 rounded shadow hover:shadow-lg outline-none focus:outline-none mr-1 mb-1 ease-linear transition-all duration-150",onClick:()=>{this.deleteStories(),this.setState({showModal:!1})}},"Delete Story"))))),t.createElement("div",{className:"opacity-25 fixed inset-0 z-40 bg-black"}))}}class g extends e.exports.Component{constructor(e){super(e),this.updateOn=()=>{this.setState({showModal:!0})},this.updateOff=()=>{this.setState({showModal:!1})},this.state={story:"",showModal:!1}}render(){return t.createElement("div",{className:"overflow-hidden rounded-lg shadow-lg"},t.createElement(t.Fragment,null,t.createElement("header",{className:"flex-col items-center justify-between leading-tight p-2 md:p-4"},t.createElement("h3",{className:"text-grey-darker text-sm"},"Story: ",this.props.story.story)),t.createElement("button",{className:"bg-green-500 text-white active:bg-pink-600 font-bold uppercase text-sm px-6 py-3 rounded shadow hover:shadow-lg outline-none focus:outline-none mr-1 mb-1 ease-linear transition-all duration-150 type=button",onClick:e=>{this.updateOn()}},"Edit Story"),this.state.showModal?t.createElement(p,{story:this.props.story,index:this.props.index,sessionToken:this.props.sessionToken,getStories:this.props.getStories,showModal:this.updateOff}):null))}}class b extends e.exports.Component{constructor(e){super(e),this.state={story:{}}}render(){var e;return t.createElement("div",{className:"container my-12 mx-auto px-4 md:px-12 flex-row"},t.createElement("div",{className:"-mx-1 lg:-mx-4"},t.createElement("div",{className:"my-1 px-1 w-full md:w-1/2 lg:my-4 lg:px-4 lg:w-1/3"},null==(e=this.props.allStories)?void 0:e.map(((e,s)=>t.createElement(g,{story:e,index:s,sessionToken:this.props.sessionToken,getStories:this.props.getStories}))))))}}class y extends e.exports.Component{constructor(e){super(e),this.getStories=()=>{console.log(this.props.sessionToken),fetch(`${i}/stories`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:this.props.sessionToken}}).then((e=>e.json())).then((e=>{console.log(e),this.setState({allStories:e})}))},this.state={allStories:[]}}componentDidMount(){this.getStories(),console.log(this.props.sessionToken)}render(){return t.createElement("div",null,t.createElement("div",null,t.createElement(b,{allStories:this.state.allStories,sessionToken:this.props.sessionToken,getStories:this.getStories}),t.createElement(d,{sessionToken:this.props.sessionToken,getStories:this.getStories})))}}class x extends e.exports.Component{constructor(e){super(e),this.addHome=e=>{fetch(`${i}/homes/create`,{method:"POST",body:JSON.stringify({homestreet1:this.state.homestreet1,homecity:this.state.homecity,homestate:this.state.homestate,homezip:this.state.homezip,homeType:this.state.homeType,yearBuilt:this.state.yearBuilt,photo:this.state.photo,description:this.state.description}),headers:{"Content-Type":"application/json",Authorization:this.props.sessionToken}}).then((e=>e.json())).then((e=>{console.log("Home Added",e)}))},this.state={homestreet1:"",homecity:"",homestate:"",homezip:"",homeType:"",photo:"",description:"",yearBuilt:"",picture:""}}render(){return t.createElement("div",null,t.createElement("div",null,t.createElement("form",{onSubmit:this.addHome,className:"mb-3"},t.createElement("input",{className:"p-3 m-1 placeholder-blueGray-300 text-blueGray-600 relative bg-white rounded text-sm border-0 shadow outline-none focus:outline-none focus:ring w-full",type:"text",placeholder:"Street 1 Line 1",name:"street1",value:this.state.homestreet1,onChange:e=>this.setState({homestreet1:e.target.value})}),t.createElement("input",{className:"p-3 m-1 placeholder-blueGray-300 text-blueGray-600 relative bg-white rounded text-sm border-0 shadow outline-none focus:outline-none focus:ring w-full",type:"text",name:"city",placeholder:"City",required:!0,value:this.state.homecity,onChange:e=>this.setState({homecity:e.target.value})}),t.createElement("input",{className:"p-3 m-1 placeholder-blueGray-300 text-blueGray-600 relative bg-white rounded text-sm border-0 shadow outline-none focus:outline-none focus:ring w-full",type:"text",name:"state",placeholder:"State",required:!0,value:this.state.homestate,onChange:e=>this.setState({homestate:e.target.value})}),t.createElement("input",{className:"p-3 m-1 placeholder-blueGray-300 text-blueGray-600 relative bg-white rounded text-sm border-0 shadow outline-none focus:outline-none focus:ring w-full",type:"text",name:"zip",placeholder:"Zip",required:!0,value:this.state.homezip,onChange:e=>this.setState({homezip:e.target.value})}),t.createElement("input",{className:"p-3 m-1 placeholder-blueGray-300 text-blueGray-600 relative bg-white rounded text-sm border-0 shadow outline-none focus:outline-none focus:ring w-full",type:"text",name:"homeType",placeholder:"Home Type",required:!0,value:this.state.homeType,onChange:e=>this.setState({homeType:e.target.value})}),t.createElement("input",{className:"p-3 m-1 placeholder-blueGray-300 text-blueGray-600 relative bg-white rounded text-sm border-0 shadow outline-none focus:outline-none focus:ring w-full",type:"text",name:"yearBuilt",placeholder:"Year Built",required:!0,value:this.state.yearBuilt,onChange:e=>this.setState({yearBuilt:e.target.value})}),t.createElement("input",{className:"p-3 m-1 placeholder-blueGray-300 text-blueGray-600 relative bg-white rounded text-sm border-0 shadow outline-none focus:outline-none focus:ring w-full",type:"text",name:"picture",placeholder:"Image",value:this.state.picture,onChange:e=>this.setState({picture:e.target.value})}),t.createElement("input",{className:"p-3 m-1 placeholder-blueGray-300 text-blueGray-600 relative bg-white rounded text-sm border-0 shadow outline-none focus:outline-none focus:ring w-full",type:"text",name:"description",placeholder:"Description",required:!0,value:this.state.description,onChange:e=>this.setState({description:e.target.value})}),t.createElement("button",{type:"submit"},"Add Home"))))}}class f extends e.exports.Component{constructor(e){super(e),this.logoutButton=()=>null===localStorage.getItem("sessionToken")?"":t.createElement("button",{onClick:this.props.logout},"Logout"),this.adminView=()=>"admin"===localStorage.getItem("permission")?t.createElement(s,{className:"p-4 text-gray-500 hover:text-gray-200",to:"/homes/create"},"ADD HOMES"):""}render(){return t.createElement(t.Fragment,null,t.createElement("div",{className:"App flex justify-between h-18 relative uppercase bg-black"},t.createElement("div",{className:"p-4 md:block"},t.createElement(s,{className:"p-4 text-gray-500 hover:text-gray-200",to:"/"},"HOME"),t.createElement(s,{className:"p-4 text-gray-500 hover:text-gray-200",to:"/stories"},"IRVINGTON STORIES"),t.createElement(s,{className:"p-4 text-gray-500 hover:text-gray-200",to:"/homes"},"HISTORIC HOMES"),this.adminView(),t.createElement(s,{onClick:this.props.logout,className:"p-4 text-gray-500 hover:text-gray-200",to:"/"},"Logout"))),t.createElement("div",null,t.createElement(o,null,t.createElement(n,{exact:!0,path:"/stories"},t.createElement(y,{sessionToken:this.props.token})),t.createElement(n,{exact:!0,path:"/homes/create"},t.createElement(x,{sessionToken:this.props.token})),t.createElement(n,{exact:!0,path:"/homes"},t.createElement(c,{sessionToken:this.props.token})),t.createElement(n,{exact:!0,path:"/"},this.props.protectedViews()))))}}class w extends e.exports.Component{constructor(e){super(e)}render(){return t.createElement("div",{className:"container bg-hero-image bg-center max-w-full bg-top h-screen"})}}class v extends e.exports.Component{constructor(e){super(e),this.handleSubmit=e=>{e.preventDefault(),fetch(`${i}/user/login`,{method:"POST",body:JSON.stringify({username:this.state.username,password:this.state.password}),headers:new Headers({"Content-Type":"application/json"})}).then((e=>e.json())).then((e=>{this.props.sessionToken(e.sessionToken),this.props.permission(e.user.permission),console.log(e)}))},this.state={username:"",password:""}}render(){return t.createElement("div",null,t.createElement("form",{onSubmit:this.handleSubmit,className:"mb-3"},t.createElement("input",{className:"p-3 m-1 placeholder-blueGray-300 text-blueGray-600 relative bg-white rounded text-sm border-0 shadow outline-none focus:outline-none focus:ring w-full",type:"text",placeholder:"Username",name:"username",required:!0,value:this.state.username,onChange:e=>this.setState({username:e.target.value})}),t.createElement("input",{className:"p-3 m-1 placeholder-blueGray-300 text-blueGray-600 relative bg-white rounded text-sm border-0 shadow outline-none focus:outline-none focus:ring w-full",type:"password",name:"password",placeholder:"Password",required:!0,value:this.state.password,onChange:e=>this.setState({password:e.target.value})}),t.createElement("button",{type:"submit",className:"font-bold uppercase text-sm px-6 py-3 rounded shadow hover:shadow-lg outline-none focus:outline-none mr-1 mb-1 ease-linear transition-all duration-150"},"Login")))}}class E extends e.exports.Component{constructor(e){super(e),this.handleSubmit=e=>{e.preventDefault(),console.log(this.state),fetch(`${i}/user/create`,{method:"POST",body:JSON.stringify({username:this.state.username,password:this.state.password,email:this.state.email,permission:"standard",firstName:this.state.firstName,lastName:this.state.lastName,isResident:this.state.isResident,street1:this.state.street1,street2:this.state.street2,city:this.state.city,state:this.state.state,zip:this.state.zip}),headers:new Headers({"Content-Type":"application/json"})}).then((e=>e.json())).then((e=>{this.props.sessionToken(e.sessionToken),console.log(e)}))},this.state={username:"",password:"",email:"",permission:"",firstName:"",lastName:"",isResident:!1,street1:"",street2:"",city:"",state:"",zip:""}}render(){return t.createElement("div",null,t.createElement("form",{onSubmit:this.handleSubmit,className:"mb-3"},t.createElement("input",{className:"p-3 m-1 placeholder-blueGray-300 text-blueGray-600 relative bg-white rounded text-sm border-0 shadow outline-none focus:outline-none focus:ring w-full",type:"text",placeholder:"Username",name:"username",required:!0,value:this.state.username,onChange:e=>this.setState({username:e.target.value})}),t.createElement("input",{className:"p-3 m-1 placeholder-blueGray-300 text-blueGray-600 relative bg-white rounded text-sm border-0 shadow outline-none focus:outline-none focus:ring w-full",type:"text",placeholder:"Email",name:"username",required:!0,value:this.state.email,onChange:e=>this.setState({email:e.target.value})}),t.createElement("input",{className:"p-3 m-1 placeholder-blueGray-300 text-blueGray-600 relative bg-white rounded text-sm border-0 shadow outline-none focus:outline-none focus:ring w-full",type:"text",placeholder:"Password",name:"username",required:!0,value:this.state.password,onChange:e=>this.setState({password:e.target.value})}),t.createElement("input",{className:"p-3 m-1 placeholder-blueGray-300 text-blueGray-600 relative bg-white rounded text-sm border-0 shadow outline-none focus:outline-none focus:ring w-full",type:"text",placeholder:"First Name",name:"username",required:!0,value:this.state.firstName,onChange:e=>this.setState({firstName:e.target.value})}),t.createElement("input",{className:"p-3 m-1 placeholder-blueGray-300 text-blueGray-600 relative bg-white rounded text-sm border-0 shadow outline-none focus:outline-none focus:ring w-full",type:"text",placeholder:"Last Name",name:"username",required:!0,value:this.state.lastName,onChange:e=>this.setState({lastName:e.target.value})}),t.createElement("input",{className:"p-3 m-1 placeholder-blueGray-300 text-blueGray-600 relative bg-white rounded text-sm border-0 shadow outline-none focus:outline-none focus:ring w-full",type:"text",placeholder:"Street Address Line 1",name:"street1",required:!0,value:this.state.street1,onChange:e=>this.setState({street1:e.target.value})}),t.createElement("input",{className:"p-3 m-1 placeholder-blueGray-300 text-blueGray-600 relative bg-white rounded text-sm border-0 shadow outline-none focus:outline-none focus:ring w-full",type:"text",placeholder:"Street Address Line 2",name:"street2",required:!0,value:this.state.street2,onChange:e=>this.setState({street2:e.target.value})}),t.createElement("input",{className:"p-3 m-1 placeholder-blueGray-300 text-blueGray-600 relative bg-white rounded text-sm border-0 shadow outline-none focus:outline-none focus:ring w-full",type:"text",placeholder:"City",name:"city",required:!0,value:this.state.city,onChange:e=>this.setState({city:e.target.value})}),t.createElement("input",{className:"p-3 m-1 placeholder-blueGray-300 text-blueGray-600 relative bg-white rounded text-sm border-0 shadow outline-none focus:outline-none focus:ring w-full",type:"text",placeholder:"Zip",name:"zip",required:!0,value:this.state.zip,onChange:e=>this.setState({zip:e.target.value})}),t.createElement("div",null,t.createElement("input",{className:"p-3 m-1 placeholder-blueGray-300 text-blueGray-600 relative bg-white rounded text-sm border-0 shadow outline-none focus:outline-none focus:ring w-full",type:"checkbox",name:"isResident",required:!0,onClick:e=>this.setState({isResident:!0})}),t.createElement("button",{type:"submit",className:"font-bold uppercase text-sm px-6 py-3 rounded shadow hover:shadow-lg outline-none focus:outline-none mr-1 mb-1 ease-linear transition-all duration-150"},"Signup"))))}}class S extends e.exports.Component{constructor(e){super(e),this.authTernary=()=>this.state.login?t.createElement(E,{sessionToken:this.props.sessionToken}):t.createElement(v,{sessionToken:this.props.sessionToken,permission:this.props.permission}),this.loginToggle=e=>{e.preventDefault(),this.setState({login:!this.state.login}),this.setState({username:""}),this.setState({password:""})},this.state={login:!0,setLogin:!1,username:"",password:"",showModal:!1}}render(){return t.createElement(t.Fragment,null,t.createElement("button",{className:"bg-pink-500 text-white active:bg-pink-600 font-bold uppercase text-sm px-6 py-3 rounded shadow hover:shadow-lg outline-none focus:outline-none mr-1 mb-1 ease-linear transition-all duration-150 type=button",onClick:e=>this.setState({showModal:!0})},"Login/Signup"),this.state.showModal?t.createElement(t.Fragment,null,t.createElement("div",{className:"justify-center items-center flex overflow-x-hidden overflow-y-auto fixed inset-0 z-50 outline-none focus:outline-none"},t.createElement("div",{className:"relative w-auto my-6 mx-auto max-w-6xl"},t.createElement("div",{className:"border-0 rounded-lg shadow-lg relative flex flex-col w-full bg-white outline-none focus:outline-none"},t.createElement("div",{className:" flex items-start justify-between p-5 border-b border-solid border-blueGray-200 rounded-t"},t.createElement("h3",{className:"text-3xl font-semibold"},"Signup/Login"),t.createElement("button",{className:"p-1 ml-auto bg-transparent border-0 text-black float-right text-3xl leading-none font-semibold outline-none focus:outline-none",onClick:e=>this.setState({showModal:!1})},t.createElement("span",{className:"bg-transparent text-black h-6 w-6 text-2xl block outline-none focus:outline-none"},"x"))),t.createElement("div",{className:"relative p-6 flex-auto"},t.createElement("p",{className:"my-4 text-blueGray500 text-lg leading-relaxed"},this.authTernary(),t.createElement("button",{onClick:this.loginToggle},"Already a member? Click to Login"))),t.createElement("div",{className:"flex items-center justify-end p-6 border-t border-solid border blue-Gray-200 rounded-b"},t.createElement("button",{className:"text-red-500 text-white active:bg-emerald-600 font-bold uppercase text-sm px-6 py-3 rounded shadow hover:shadow-lg outline-none focus:outline-none mr-1 mb-1 ease-linear transition-all duration-150",type:"button",onClick:e=>this.setState({showModal:!1})},"Close"))))),t.createElement("div",{className:"opacity-25 fixed inset-0 z-40 bg-black"})):null)}}class N extends e.exports.Component{constructor(e){super(e),this.updateToken=e=>{localStorage.setItem("sessionToken",e),this.setState({sessionToken:e}),console.log(this.state.sessionToken)},this.permissionUpdateToken=e=>{localStorage.setItem("permission",e),this.setState({permission:e}),console.log(this.state.permission)},this.protectedViews=()=>this.state.sessionToken===localStorage.getItem("sessionToken")?t.createElement(w,null):t.createElement(S,{sessionToken:this.updateToken,permission:this.permissionUpdateToken}),this.state={sessionToken:"",permission:""}}componentDidMount(){localStorage.getItem("sessionToken")&&this.setState({sessionToken:localStorage.getItem("sessionToken")}),localStorage.getItem("permission")&&this.setState({permission:localStorage.getItem("permission")})}clearToken(){localStorage.clear(),this.setState({sessionToken:""}),console.log("token cleared")}render(){return t.createElement("div",{className:"App"},t.createElement(a,null,t.createElement(f,{logout:this.clearToken.bind(this),token:this.state.sessionToken,protectedViews:this.protectedViews})))}}r.render(t.createElement(t.StrictMode,null,t.createElement(a,null,t.createElement(N,null))),document.getElementById("root"));
